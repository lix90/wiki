<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>JavaScript 30 - Wiki by Lixiang</title>
    <meta name="keywords" content="wiki, r, python, data science, matlab, emacs, learning"/>
    <meta name="description" content="Lixiang's personal Wiki, powered by emacs and markdown."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/wiki/">Wiki by Lixiang</a>
    &nbsp;&#187;&nbsp;
    <a href="/wiki/#Web">Web</a>
    &nbsp;&#187;&nbsp;JavaScript 30
    <span class="updated">Updated&nbsp;
    2017-04-25 09:30
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#day-one">day one</a><ul>
<li><a href="#_1">学习其他事件</a></li>
<li><a href="#jquery">jQuery事件操作</a></li>
</ul>
</li>
<li><a href="#day-two">day two</a></li>
</ul>
</div>
<h1 id="day-one">day one</h1>
<p>键盘事件 KeyboardEvent</p>
<ul>
<li>keydown</li>
<li>keyup</li>
<li>keypress</li>
</ul>
<p>KeyboardEvent对象的重要属性</p>
<ul>
<li>key: 键名</li>
<li>keyCode: 键码</li>
<li>srcElement: 事件来源元素</li>
<li>target: 事件作用目标</li>
<li>type: 事件类别</li>
</ul>
<p>将事件绑定到元素对象上</p>
<p>获取某个元素对象缓存</p>
<ul>
<li>getElement*</li>
<li>querySelector*</li>
</ul>
<p>最终实现的代码：</p>
<div class="hlcode"><pre><span class="cm">/* add keydown event */</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="kd">let</span> <span class="nx">keyTag</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="err">`</span><span class="nx">audio</span><span class="p">[</span><span class="nx">data</span><span class="o">-</span><span class="nx">key</span><span class="o">=</span><span class="s2">&quot;${event.KeyCode}&quot;</span><span class="p">]</span><span class="err">`</span><span class="p">);</span>
    <span class="nx">keyTag</span> <span class="o">&amp;&amp;</span> <span class="nx">keyTag</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
 <span class="p">})</span>
</pre></div>


<p>如果换成鼠标事件呢？</p>
<p>与鼠标有关的事件对象</p>
<ul>
<li>MouseEvent</li>
<li>MouseWheelEvent</li>
<li>MouseScrollEvent</li>
</ul>
<p>鼠标事件</p>
<ul>
<li>mouseup/down</li>
<li>mouseenter/leave</li>
<li>mouseout</li>
<li>mousemove</li>
<li>mouseover</li>
<li>mousewheel</li>
</ul>
<p>实现鼠标在对象上按键点击后发出对应的声音</p>
<div class="hlcode"><pre><span class="cm">/* add mousedown event */</span>
 <span class="kr">const</span> <span class="nx">KEYS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">65</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">76</span><span class="p">];</span>
 <span class="nx">KEYS</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">k</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="err">`</span><span class="nx">div</span><span class="p">[</span><span class="nx">data</span><span class="o">-</span><span class="nx">key</span><span class="o">=</span><span class="s2">&quot;${k}&quot;</span><span class="p">]</span><span class="err">`</span><span class="p">)</span>
           <span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="err">`</span><span class="nx">audio</span><span class="p">[</span><span class="nx">data</span><span class="o">-</span><span class="nx">key</span><span class="o">=</span><span class="s2">&quot;${k}&quot;</span><span class="p">]</span><span class="err">`</span><span class="p">).</span><span class="nx">play</span><span class="p">();</span>
   <span class="p">})</span>
 <span class="p">})</span>
</pre></div>


<p>学习总结：</p>
<ul>
<li>注册鼠标与键盘键盘</li>
<li>ES6语法简化代码</li>
</ul>
<p>拓展</p>
<h2 id="_1">学习其他事件</h2>
<ul>
<li>User-generated events 由用户产生的事件</li>
<li>APIs generated events 由API产生的事件</li>
</ul>
<p>PointerEvent 光标事件，a mouse, pen or contact point on a touch-enable surface</p>
<ul>
<li>pointerover</li>
<li>pointerenter</li>
<li>pointerdown</li>
<li>pointermove</li>
<li>pointerup</li>
<li>pointercancel</li>
<li>pointerout</li>
<li>pointerleave</li>
</ul>
<p>TouchEvent</p>
<ul>
<li>touchstart</li>
<li>touchend</li>
<li>touchmove</li>
<li>touchcancel</li>
</ul>
<p>GestureEvent, MSGestureEvent</p>
<h2 id="jquery">jQuery事件操作</h2>
<div class="hlcode"><pre><span class="c1">// add keydown event by jquery</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">read</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="nx">$</span><span class="p">().</span><span class="nx">keydown</span><span class="p">((</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
       <span class="kd">let</span> <span class="nx">audioPlay</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;audio[data-key=&quot;${event.keyCode}&quot;]&#39;</span><span class="p">);</span>
       <span class="nx">audioPlay</span> <span class="o">&amp;&amp;</span> <span class="nx">audioPlay</span><span class="p">.</span><span class="nx">play</span><span class="p">()</span>
     <span class="p">});</span>
   <span class="p">});</span>
</pre></div>


<p>onload 函数</p>
<p><code>GlobalEventHandlers.onload</code> <code>DOMContentLoaded</code> <code>DOMFrameContentLoaded</code></p>
<blockquote>
<p>The load event fires at the end of the document loading process. At this point, all of the objectsin the document are in the DOM, and all the images, scripts, links and sub-frames have finished loading.</p>
</blockquote>
<h1 id="day-two">day two</h1>
<p>Date Object + transform</p>
<p>计算每秒、每分钟、每小时对应的时针旋转的角度</p>
<p>通过 js 改变旋转角度</p>
<ul>
<li>掌握通过js脚本操作和变更CSS样式和样式表</li>
<li>通过HTMLElement.style属性对象获取和设置行内样式</li>
<li>通过JS操作CSS构建动画效果</li>
</ul>
<p>拓展</p>
<p>CSS in JS</p>
<ul>
<li><a href="https://speakerdeck.com/vjeux/react-css-in-js">react css in js</a><a href="https://github.com/MicheleBertoli/css-in-js">github</a><a href="https://www.youtube.com/watch?v=t3kuAEMXSzg">youtube</a><a href="https://github.com/cssobj/cssobj">cssobj</a></li>
<li><a href="https://github.com/hax/hax.github.com/issues/22">如何看待《React: CSS in JS》？</a></li>
<li><a href="https://github.com/hax/hax.github.com/issues/21">关于前端开发中“模块”和“组件”概念的思考</a></li>
</ul>
<p>Problems with CSS at scale (vjeux)</p>
<ul>
<li>Global Namespace</li>
<li>Dependencies</li>
<li>Dead Code Elimination</li>
<li>Minification</li>
<li>Sharing Constants</li>
<li>Non-deterministic resolution</li>
<li>Isolation</li>
</ul>
<p>模块</p>
<blockquote>
<p>“模块”是指编程语言所提供的<strong>代码组织机制</strong>，利用此机制可将程序拆解为<strong>独立</strong>且<strong>通用</strong>的代码单元。</p>
</blockquote>
<ul>
<li>CommonJS module</li>
<li>AMD module</li>
<li>ES6 module</li>
</ul>
<p>组件</p>
<blockquote>
<p>大体上“组件”和“模块”的概念是类似的，只是“组件”通常指更high-level的东西。我个人体会，“模块”指代码单元，其意义偏向静态的代码结构。而“组件”指功能单元，其意义偏向运行时的结构，并有更复杂的控制（如组件实例的生命周期管理）。</p>
</blockquote>
  
  <div class="relation">
    Related:
    <ul>
  
    <li><a href="/wiki/Web/js_oop.html">Object Oriented Programming in JavaScript</a></li>
  
    </ul>
  </div>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2017 Lixiang.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://git.coding.net/tankywoo/yasimple_x2.git" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Site Generated 2017-07-06 18:24:12</p>
      </div> <!-- end footer-right -->
    </div>

    
    
  </body>
</html>