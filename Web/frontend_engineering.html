<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>前端工程化 - Wiki by Lixiang</title>
    <meta name="keywords" content="wiki, r, python, data science, matlab, emacs, learning"/>
    <meta name="description" content="Lixiang's personal Wiki, powered by emacs and markdown."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/wiki/">Wiki by Lixiang</a>
    &nbsp;&#187;&nbsp;
    <a href="/wiki/#Web">Web</a>
    &nbsp;&#187;&nbsp;前端工程化
    <span class="updated">Updated&nbsp;
    2017-03-22 19:44
    
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <blockquote>
<p>从本质上讲，所有Web应用都是一种运行在网页浏览器中的软件，这些软件的图形用户界面（Graphical User Interface，简称GUI）即为前端。</p>
</blockquote>
<h1 id="_1">前端工程的三个阶段</h1>
<p><strong>第一阶段：库/框架选型。</strong> 
根据项目特征进行技术选型，合理的技术选型可以为项目节省许多工程量。
<strong>第二阶段：简单构建优化。</strong>
选型之后基本上就可以开始敲码了，不过光解决开发效率还不够，必须要兼顾运行性能。前端工程进行到第二阶段会选型一种构建工具，对代码进行压缩，校验，之后再以页面为单位进行简单的资源合并。
<strong>第三阶段：JS/CSS模块化开发。</strong>
分而治之是软件工程中的重要思想，是复杂系统开发和维护的基石，这点放在前端开发中同样适用。在解决了基本开发效率运行效率问题之后，前端团队开始<strong>思考维护效率</strong>，模块化是目前前端最流行的分治手段。模块化开发的最大价值应该是分治。
- JS 模块化方案，AMD/CommonJS/UMD/ES6 Module等。
- CSS 模块化方案，less、sass、stylus等预处理器的import/mixin特性支持下实现。</p>
<h1 id="_2">第四阶段</h1>
<p>前端是一种<strong>技术问题较少、工程问题较多</strong>的软件开发领域。</p>
<p>在开发一款完整的Web应用时，前端将面临许多工程问题，比如：
- 大体量：多功能、多页面、多状态、多系统；
- 大规模：多人甚至多团队合作开发；
- 高性能：CDN 部署、缓存控制、文件指纹、缓存复用、请求合并、按需加载、同步/异步加载、移动端首屏 CSS 内嵌、HTTP 2.0 服务端资源推送。</p>
<p>用最少最简单明了的规则制定出最容易遵守最容易理解的开发规范或工具，以提升开发效率和工程质量，这同样是小而美的典范！</p>
<h1 id="_3">两件事</h1>
<p>进入第四阶段，我们只需做好两件事就能大幅提升前端开发效率，并且兼顾运行性能：组件化开发与资源管理。</p>
<h2 id="_4">第一件事：组件化开发</h2>
<blockquote>
<p>前端作为一种GUI软件，光有JS/CSS的模块化还不够，对于UI组件的分治也有着同样迫切的需求。</p>
</blockquote>
<p>前端组件化开发理念：</p>
<blockquote>
<ol>
<li>页面上的每个独立的可视/可交互区域视为一个组件；</li>
<li>每个组件对应一个工程目录，组件所需的各种资源都在这个目录下就近维护；</li>
<li>由于组件具有独立性，因此组件与组件之间可以自由组合；</li>
<li>页面只不过是组件的容器，负责组合组件形成功能完整的界面；</li>
<li>当不需要某个组件，或者想要替换组件时，可以整个目录删除/替换。</li>
</ol>
<p>基于这样的工程理念，我们很容易将系统以独立的组件为单元进行分工划分。由于系统功能被分治到独立的模块或组件中，粒度比较精细，组织形式松散，开发者之间不会产生开发时序的依赖，大幅提升并行的开发效率，理论上允许随时加入新成员认领组件开发或维护工作，也更容易支持多个团队共同维护一个大型站点的开发。</p>
</blockquote>
<p>整个前端项目可以划分为这么几种开发概念：
- <strong>JS 模块</strong>：<strong>独立</strong>的算法和数据单元。例如：浏览器环境监测；网络请求；应用配置。
- <strong>CSS 模块</strong>：<strong>独立</strong>的功能性样式单元。例如：栅格系统；字体图标；动画样式。
- <strong>UI 组件</strong>：<strong>独立</strong>的可视/可交互功能单元。例如：页头、页尾、导航栏。
- <strong>页面</strong>：前端这种 GUI 软件的界面状态，是 <strong>UI 组件的容器</strong>。例如：首页，列表页，用户管理。
- <strong>应用</strong>：<strong>整个项目或整个站点</strong>被称之为应用，由多个页面组成。</p>
<h2 id="_5">第二件事：“智能”静态资源管理</h2>
<blockquote>
<p>模块化/组件化开发之后，我们最终要解决的，就是模块/组件加载的技术问题。</p>
<p>前端是一种远程部署，运行时增量下载的GUI软件。前端应用没有安装过程，其所需程序资源都部署在远程服务器，用户使用浏览器访问不同的页面来加载不同的资源，随着页面访问的增加，渐进式的将整个程序下载到本地运行，<strong>“增量下载”是前端在工程上有别于客户端GUI软件的根本原因。</strong></p>
<p>静态资源管理系统 = 资源表 + 资源加载框架
通过一个小工具扫描所有静态资源，生成一张资源表，然后有一个PHP实现的资源管理框架（Celerity）提供了资源加载接口，替代了传统的script/link等静态的资源加载标签，最终通过查表来加载资源。</p>
<p>资源表是非常通用的数据结构，无论什么业务场景，其业务代码最终都可以被扫描为相同结构的表数据，并标记资源间的依赖关系，有了表之后我们只需根据不同的业务场景定制不同的资源加载框架就行了，从此彻底告别一个团队维护一套工具的时代！！！</p>
</blockquote>
<h3 id="_6">结论</h3>
<p>作为初学者，无须把目标设为掌握前端工程话，但必须得提前<strong>了解前端工程化</strong>。从 fouber 这篇文章，有一些关键概念和理念。</p>
<p><strong>关键概念</strong>
- 模块化与组件化
- 分治
- 三个效率：开发效率、运行效率（性能）、维护效率
- 增量下载</p>
<p><strong>关键观点</strong>
- 前端即用户图形界面。
- 前端是一种<strong>技术问题较少、工程问题较多</strong>的软件开发领域。
- 静态资源管理系统 = 资源表 + 资源加载框架</p>
<p>参考：</p>
<p><a href="https://github.com/fouber/blog/issues/10">fouber：前端工程——基础篇</a>
<a href="http://velocity.oreilly.com.cn/2010/index.php?func=session&amp;name=静态网页资源的管理和优化">静态网页资源的管理和优化</a></p>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2017 Lixiang.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://git.coding.net/tankywoo/yasimple_x2.git" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Site Generated 2017-07-06 18:24:12</p>
      </div> <!-- end footer-right -->
    </div>

    
    
  </body>
</html>